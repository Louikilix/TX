<%= javascript_include_tag 'application' %>
<div id="content">
  <div id="page1" class="page">
    <div id=log><%= @logs %></div>  
  </div>
  <div id="page2" class="page">
    <h1>Cr√©ations</h1>
    <form action="index2Bin">
        <input type="submit" value="Binaire" />
    </form>
    <br>
    <form action="index2M">
        <input type="submit" value="Morse" />
    </form>
     <% var = 0 
        ary = Array.new 
     %>
     
    
            <div class="slideshow-container">
                <% @writing_definitions.each do |writing_def| %>
                    <% if (writing_def.writing_images.last.present? and not(ary.include?(writing_def.writing_images.last.image.id)))%>
                        <div class="mySlides fade2">
                            <div class="container w-i">
                                <%=image_tag (writing_def.writing_images.last.image), :size => "500x350" %>
                                    <% @writing_definitions.each do |writing_def2| %>
                                        <% if (writing_def2.writing_images.last.present? and writing_def.writing_images.last.image.id == writing_def2.writing_images.last.image.id)%>
                                            <div class="w-d"; 
                                                style=
                                                "margin-left: <%=writing_def2.x.present? && writing_def2.x != 0 ? ((writing_def2.x*500).to_s + "px") : "0px"%>;
                                                margin-top: <%=writing_def2.y.present? && writing_def2.y != 0 ? ((writing_def2.y*350).to_s + "px") : "0px"%>;
                                                width: <%=writing_def2.w.present? && writing_def2.w != 0 ? ((writing_def2.w*500).to_s + "px") : "auto"%>;
                                                height: <%=writing_def2.h.present? && writing_def2.h != 0 ? ((writing_def2.h*350).to_s + "px") : "auto"%>;
                                                font-size: <%=writing_def2.font_size.present? && writing_def2.font_size != 0 ? ((writing_def2.font_size*500/1000).to_s + "px") : "auto"%>;
                                                font-family: <%=writing_def2.font_family.to_s%>;
                                                position: absolute;
                                                z-index: 51;"
                                                >
                                                <%= writing_def2.body %>
                                                </div>
                                            </div>
                                        <br>
                                        <br>

                                    <% end %>
                                <% end %>
                            
                         </div>
                        <% ary.push(writing_def.writing_images.last.image.id) %> 
                  <% end %>

                <% end %>

            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)">&#10095;</a>
            </div>

            <!-- Full-width images with number and caption text -->

          
  </div>
</div>

 <script>
        var slideIndex = 1;
        showSlides(slideIndex);

        // Next/previous controls
        function plusSlides(n) {
        showSlides(slideIndex += n);
        }

        // Thumbnail image controls
        function currentSlide(n) {
        showSlides(slideIndex = n);
        }

        function showSlides(n) {
        var i;
        var slides = document.getElementsByClassName("mySlides");
        if (n > slides.length) {slideIndex = 1}
        if (n < 1) {slideIndex = slides.length}
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slides[slideIndex-1].style.display = "block";
        }
</script>